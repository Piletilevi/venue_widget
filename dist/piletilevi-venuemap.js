!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=(a=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),r=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(r).concat([o]).join("\n")}var a,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(i)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);i&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},i=[],o=0;o<e.length;o++){var r=e[o],l=t.base?r[0]+t.base:r[0],c=n[l]||0,d="".concat(l," ").concat(c);n[l]=c+1;var u=s(d),f={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(a[u].references++,a[u].updater(f)):a.push({identifier:d,updater:m(f,t),references:1}),i.push(d)}return i}function c(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function f(e,t,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function p(e,t,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var h=null,v=0;function m(e,t){var n,i,o;if(t.singleton){var r=v++;n=h||(h=c(t)),i=f.bind(null,n,r,!1),o=f.bind(null,n,r,!0)}else n=c(t),i=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var o=s(n[i]);a[o].references--}for(var r=l(e,t),c=0;c<n.length;c++){var d=s(n[c]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}n=r}}}},function(e,t,n){e.exports=n(11)},function(e,t,n){var i=n(1),o=n(4);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};i(o,r);e.exports=o.locals||{}},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i)()(!1);o.push([e.i,".piletilevi_venue_map {\n    position: relative;\n}\n\n.piletilevi_venue_map_sections > svg {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    max-width: 100%;\n    max-height: 100%;\n}\n\n.piletilevi_venuemap_selection_rectangle {\n    background: rgba(10, 45, 237, 0.08);\n    border: 1px solid rgba(10, 45, 237, 0.2);\n    box-sizing: border-box;\n}\n\n.piletilevi_venue_map .section_label {\n    display: none;\n    text-shadow: 1px 1px #ffffff;\n    pointer-events: none;\n}\n\n.piletilevi_venue_map .with_section_labels .section_label {\n    display: inline;\n}\n\n.piletilevi_venue_map_canvas {\n    display: block;\n    text-align: center;\n    white-space: nowrap;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n\n\n.piletilevi_venue_map_places_main {\n    min-height: 180px;\n    min-width: 100%;\n}\n\n.piletilevi_venue_map_places_with_controls .piletilevi_venue_map_canvas {\n    padding-left: 39px;\n    padding-right: 39px;\n}\n\n.piletilevi_venue_map_canvas svg {\n    display: inline;\n    vertical-align: top;\n}\n\n.piletilevi_venue_map_controls {\n    position: absolute;\n    right: 3px;\n    bottom: 30px;\n    box-shadow: 0 0 3px #c5c5c5;\n}\n\n.piletilevi_venue_map_control {\n    font-family: Arial, sans-serif;\n    font-size: 27px;\n    width: 30px;\n    height: 30px;\n    border: 0;\n    border-top: 1px solid #e6e6e6;\n    padding: 0;\n    outline: none;\n    display: block;\n    line-height: 0;\n    font-weight: bold;\n    background: #ffffff;\n    color: #c5c5c5;\n    text-align: center;\n    overflow: hidden;\n}\n\n.piletilevi_venue_map_control.piletilevi_venue_map_control_active {\n    color: #000000;\n    cursor: pointer;\n}\n\n.piletilevi_venue_map_control:first-child {\n    border-top: 0;\n}\n\n.piletilevi_venue_map_control:before {\n    display: inline-block;\n    content: '';\n    height: 100%;\n    width: 1px;\n    margin-left: -1px;\n    vertical-align: middle;\n}\n\n.piletilevi_venue_map_control:after {\n    display: inline-block;\n    content: '';\n    vertical-align: middle;\n}\n\n.piletilevi_venue_map_control_extend:after {\n    height: 10px;\n    width: 14px;\n    border: 2px solid #c5c5c5;\n}\n\n.piletilevi_venue_map_control_extend.piletilevi_venue_map_control_active:after {\n    border-color: #000000;\n}\n\n.piletilevi_venue_map_extended .piletilevi_venue_map_control_extend:after {\n    height: 5px;\n}\n\n.piletilevi_venue_map_control_zoomin:after {\n    content: '+';\n}\n\n.piletilevi_venue_map_control_zoomout:after {\n    content: '-';\n}\n\n.piletilevi_venue_map_control_resetzoom:after {\n    content: 'Ã—';\n}\n\n\n[data-draggable-state='draggable'] {\n    cursor: grab;\n}\n\n[data-draggable-state='dragging'] {\n    cursor: grabbing;\n}\n\n.piletilevi_venue_map_places {\n    display: flex;\n    flex-wrap: wrap;\n}\n\n.places_map_sections_thumbnail {\n    width: 30%;\n    max-height: 15em;\n    position: relative;\n}\n\n.piletilevi_venue_map_places:not(.piletilevi_venue_map_places_with_map) .places_map_sections_thumbnail {\n    display: none;\n}\n\n.places_map_sections_thumbnail_overflow {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n}",""]),t.default=o},function(e,t,n){var i=n(1),o=n(6);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};i(o,r);e.exports=o.locals||{}},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i)()(!1);o.push([e.i,".places_map_legend {\r\n    padding-bottom: 1.5em;\r\n    margin: -0.15em;\r\n}\r\n\r\n.piletilevi_venue_map_places_with_map .places_map_legend {\r\n    width: 70%;\r\n}\r\n\r\n.places_map_legend_item {\r\n    min-width: 5.95em;\r\n    box-sizing: border-box;\r\n    color: #000000;\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    text-align: left;\r\n    padding: 0 0.5em;\r\n    position: relative;\r\n    overflow: hidden;\r\n    margin: 0.15em 0.15em 0.43em;\r\n    white-space: nowrap;\r\n    font-weight: bold;\r\n}\r\n\r\n.places_map_legend_title {\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n    position: relative;\r\n    font-size: 0.93em;\r\n    line-height: 1.5em;\r\n    vertical-align: middle;\r\n}\r\n\r\n.places_map_legend_suffix {\r\n    font-size: 0.93em;\r\n    line-height: 1.5em;\r\n    vertical-align: middle;\r\n    color: #9a9a9a;\r\n    margin-left: 0.25em;\r\n}\r\n\r\n.places_map_legend_color {\r\n    display: inline-block;\r\n    width: 0.93em;\r\n    height: 0.93em;\r\n    margin-right: 0.4em;\r\n    border-radius: 999px;\r\n    vertical-align: middle;\r\n}\r\n",""]),t.default=o},function(e,t,n){var i=n(1),o=n(8);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};i(o,r);e.exports=o.locals||{}},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i)()(!1);o.push([e.i,".piletilevi_venue_map_canvas .place {\r\n    cursor: pointer;\r\n    stroke-width: 1;\r\n}\r\n\r\n.piletilevi_venue_map .place_detail {\r\n    display: none;\r\n}\r\n\r\n.piletilevi_venue_map .with_seat_numbers .place_detail {\r\n    display: inline;\r\n}",""]),t.default=o},function(e,t,n){var i=n(1),o=n(10);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};i(o,r);e.exports=o.locals||{}},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i)()(!1);o.push([e.i,'\r\n.place_tooltip {\r\n    display: none;\r\n    z-index: 100;\r\n    padding-bottom: 10px;\r\n    position: absolute;\r\n    max-width: 50%;\r\n    pointer-events: none;\r\n    opacity: 0;\r\n    transition: opacity 0.2s ease-in-out 0.1s;\r\n}\r\n\r\n.place_tooltip_display {\r\n    opacity: 1;\r\n}\r\n\r\n.place_tooltip_content {\r\n    position: relative;\r\n    font-size: 0.92em;\r\n    padding: 0.6em;\r\n    background: #ffffff;\r\n    -webkit-box-shadow: 0.25em 0.25em 0.5em rgba(0, 0, 0, 0.2);\r\n    -moz-box-shadow: 0.25em 0.25em 0.5em rgba(0, 0, 0, 0.2);\r\n    box-shadow: 0.25em 0.25em 0.5em rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.place_tooltip_content td {\r\n    padding: 3px 4px;\r\n}\r\n\r\n.place_tooltip table,\r\n.place_tooltip table tr {\r\n    display: block;\r\n}\r\n\r\n.place_tooltip:before {\r\n    /* shadow effect for triangle */\r\n    content: "";\r\n    height: 5px;\r\n    left: 50%;\r\n    margin-left: -5px;\r\n    position: absolute;\r\n    bottom: 0;\r\n    width: 10px;\r\n    -moz-box-shadow: 0 6px 5px rgba(0, 0, 0, 0.13);\r\n    -webkit-box-shadow: 0 6px 5px rgba(0, 0, 0, 0.13);\r\n    box-shadow: 0 6px 5px rgba(0, 0, 0, 0.13);\r\n}\r\n\r\n.place_tooltip:after {\r\n    /* bottom triangle */\r\n    content: "";\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 50%;\r\n    margin-left: -10px;\r\n    border-top: 10px solid #ffffff;\r\n    border-left: 10px solid transparent;\r\n    border-right: 10px solid transparent;\r\n}\r\n\r\n.place_tooltip_label {\r\n    display: inline;\r\n}\r\n\r\n.place_tooltip_value {\r\n    display: inline;\r\n    font-weight: bold;\r\n}\r\n\r\n.place_tooltip_status {\r\n    display: block;\r\n    font-weight: bold;\r\n    padding-top: 0.4em;\r\n}\r\n',""]),t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Y}));n(3),n(9);var i=function(e){var t,n,i,o,r,a,s,l,c,d,u,f=this,p=!1,h={0:"booked",1:"available",2:"selected",3:"not_sold"};this.clear=function(){for(;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)l.removeChild(l.firstChild);for(;c.firstChild;)c.removeChild(c.firstChild);for(;i.firstChild;)i.removeChild(i.firstChild);o.style.display="none",a.style.display="none",d.style.display="none",u.style.display="none",n.style.display="none"},this.display=function(f,h,g,y){t||function(){(t=document.createElement("div")).className="place_tooltip",document.body.appendChild(t);var f=document.createElement("div");f.className="place_tooltip_content",t.appendChild(f);var p=document.createElement("table");f.appendChild(p);var h,v=document.createElement("tbody");p.appendChild(v),n=document.createElement("tr"),v.appendChild(n),(h=document.createElement("td")).className="place_tooltip_label",h.appendChild(document.createTextNode(e.getTranslation("section"))),n.appendChild(h),(i=document.createElement("td")).className="place_tooltip_value",n.appendChild(i),o=document.createElement("tr"),v.appendChild(o),(h=document.createElement("td")).className="place_tooltip_label",h.appendChild(document.createTextNode(e.getTranslation("row"))),o.appendChild(h),(r=document.createElement("td")).className="place_tooltip_value",o.appendChild(r),a=document.createElement("tr"),v.appendChild(a),(h=document.createElement("td")).className="place_tooltip_label",h.appendChild(document.createTextNode(e.getTranslation("place"))),a.appendChild(h),(s=document.createElement("td")).className="place_tooltip_value",a.appendChild(s),d=document.createElement("tr"),v.appendChild(d),(h=document.createElement("td")).className="place_tooltip_label",h.appendChild(document.createTextNode(e.getTranslation("price"))),d.appendChild(h),(l=document.createElement("td")).className="place_tooltip_value",d.appendChild(l),u=document.createElement("tr"),v.appendChild(u),(c=document.createElement("td")).setAttribute("colspan","2"),c.className="place_tooltip_status",u.appendChild(c)}(),v(f,h),p||(p=!0,t.style.display="block",t.classList.add("place_tooltip_display")),m(g,y)},this.hide=function(){p&&(p=!1,t&&(t.classList.remove("place_tooltip_display"),t.addEventListener("animationend",(function(){p||(t.style.display="none")}))))},this.dispose=function(){window.removeEventListener("resize",f.resize),t&&t.parentNode&&t.parentNode.removeChild(t),t=null};var v=function(t,p){f.clear();var v=h[p]||h[0],m="";if("full_venue"===e.getSectionsMapType()){var g=e.getSectionBySeatId(t.id);m=g?g.title:""}if(m&&(i.appendChild(document.createTextNode(m)),n.style.display=""),"not_sold"!==v&&(t.row&&(r.appendChild(document.createTextNode(t.row)),o.style.display=""),t.place&&(s.appendChild(document.createTextNode(t.place)),a.style.display="")),e.isSeatSelectionEnabled()){var y=e.getTranslation(v);c.appendChild(document.createTextNode(y)),u.style.display=""}t.price&&"booked"!==v&&"not_sold"!==v&&(l.appendChild(document.createTextNode(t.price)),d.style.display="")},m=function(e,n){var i;i=window.innerHeight?window.innerWidth:document.documentElement.offsetWidth,t.style.left="0px",t.style.top="0px";var o=t.offsetWidth,r=t.offsetHeight,a=e+0,s=n-r-0;(a-=o/2)+o+0>=i&&(a=e-0-o),s-0<0&&(s=n+0+r),t.style.left=a+"px",t.style.top=s+"px"}},o=new function(){var e=this,t=[],n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},i="",r=!1,a=function(t,o,r,a,s){this.element=null;var l=function e(){c(),t.removeEventListener(n[i],e)},c=function(){t&&(t.style[i]=""),"function"==typeof s&&s()};this.cancel=function(){t.removeEventListener(n[i],l)},function(){if(this.element=t,e.checkTransitionSupport(),i){var c=[];for(var d in o)c.push(d+" "+r+"ms "+(a||"linear"));t.style[i]=c.join(", ")}for(var u in o)o.hasOwnProperty(u)&&(t.style[u]=o[u]);i?t.addEventListener(n[i],l):"function"==typeof s&&s()}.call(this)};this.checkTransitionSupport=function(){if(!r){for(var e in n)if(e in document.body.style){i=e;break}r=!0}},this.animate=function(e,n,i,o,r){for(var s=t.length;s--;)t[s].element===e&&(t[s].cancel(),t.splice(s,1));t.push(new a(e,n,i,o,r))},this.sendXhr=function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){t.readyState===XMLHttpRequest.DONE&&(200===t.status?e.onSuccess(t.responseText):e.onFailure&&e.onFailure())},t.open("GET",e.url,!0),t.send(null)},this.createSvgNode=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in t=t||{})t.hasOwnProperty(i)&&n.setAttributeNS(null,i,t[i]);return n},this.getSvgTextBBox=function(e,t){var n=o.createSvgNode("svg"),i=o.createSvgNode("text",t),r=document.createTextNode(e);i.appendChild(r),n.appendChild(i),document.body.appendChild(n);var a=i.getBBox();return document.body.removeChild(n),a},this.addClass=function(e,t){if(e){var n=e.getAttribute("class")||"";-1===n.indexOf(t)&&(""===n?e.setAttribute("class",t):e.setAttribute("class",n+" "+t))}},this.removeClass=function(e,t){if(e){var n=e.getAttribute("class")+"";-1!==n.indexOf(t)&&(-1!==n.indexOf(t+" ")?t+=" ":-1!==n.indexOf(" "+t)&&(t=" "+t),n=n.replace(t,""),e.setAttribute("class",n))}},this.isTransformSupported=function(){return"transform"in document.body.style},this.getPosition=function(e){var t=0,n=0;if(e.offsetParent)do{t+=e.offsetLeft,n+=e.offsetTop}while(e=e.offsetParent);return{x:t,y:n}},this.createStretchHackElement=function(e){var t=document.createElement("img");return t.src="data:image/svg+xml,%3Csvg viewBox='"+e+"' xmlns='http://www.w3.org/2000/svg'/%3E",t.style.width="100%",t.style.maxWidth="100%",t.style.maxHeight="100%",t.style.verticalAlign="top",t}};function r(e,t,n,i){var o=this,r=!1,a=!1;this.id=!1;this.refreshStatus=function(){r?this.markInactive():this.markDisabled()},this.mouseOver=function(){o.markActive(),e.trigger("sectionMouseover",n)},this.mouseOut=function(){o.markInactive(),e.trigger("sectionMouseout",n)},this.markDisabled=function(){i&&i.setAttribute("style","display: none;")},this.markActive=function(){i&&!a&&(i.setAttribute("fill","#75bb01"),i.setAttribute("opacity","0.8"),i.setAttribute("style","display: block;"))},this.markInactive=function(){i&&!a&&(i.setAttribute("fill","#cccccc"),i.setAttribute("opacity","0"),i.setAttribute("style","display: block;"))},this.markActivePermanently=function(){o.markActive(),a=!0},this.markInactivePermanently=function(){o.markInactive(),a=!0},this.unLockActive=function(){a=!1,o.markInactive()},this.setEnabled=function(e){r=!!e},this.click=function(){e.trigger("sectionSelected",n)},o.id=n,i.addEventListener("click",o.click),i.addEventListener("mouseover",o.mouseOver),i.addEventListener("mouseout",o.mouseOut)}function a(e){var t,n,i={};this.imageElement=!1,this.mapElement=!1,this.vectorDocument=!1;var a=this;this.update=function(){for(var t={},n=e.getEnabledSections(),o=n.length;o--;)t[n[o]]=!0;for(var r in i)i[r].setEnabled(r in t),i[r].refreshStatus()},this.display=function(){t.style.display=""},this.hide=function(){t.style.display="none"},this.createImageElement=function(e){a.imageElement&&t.removeChild(a.imageElement);var n=document.createElement("img");n.setAttribute("src",e),a.imageElement=n,t.appendChild(n)},this.checkMapElement=function(){n&&t.removeChild(n),a.mapElement&&(n=o.createStretchHackElement(a.mapElement.getAttribute("viewBox")),t.appendChild(n),t.appendChild(a.mapElement),a.vectorDocument=a.mapElement,s(),a.update())};var s=function(){if(a.mapElement&&a.vectorDocument){for(var t=a.vectorDocument,n=0;n<t.childNodes.length;n++)if(t.childNodes[n].id){var o=t.childNodes[n].id.split("section")[1],s=t.childNodes[n];i[o]||(i[o]=new r(e,a,o,s))}a.mapElement.style.visibility="visible"}};this.getComponentElement=function(){return t},this.getMapRegions=function(){return i},(t=document.createElement("div")).className="piletilevi_venue_map_sections"}n(5);var s=function(e){var t,n=this,i={},r={extend:function(t){t.preventDefault(),t.stopPropagation(),e.extend()},zoomin:function(t){t.preventDefault(),t.stopPropagation(),e.zoomIn()},zoomout:function(t){t.preventDefault(),t.stopPropagation(),e.zoomOut()},resetzoom:function(t){t.preventDefault(),t.stopPropagation(),e.setZoomLevel(0)}},a=function(){(t=document.createElement("div")).className="piletilevi_venue_map_controls",e.getExtensionHandler()&&s("extend"),s("zoomin"),s("zoomout"),s("resetzoom"),n.changeStates({extend:!0})},s=function(e){var n=document.createElement("div");return n.className="piletilevi_venue_map_control piletilevi_venue_map_control_"+e,t.appendChild(n),i[e]=n,n};this.changeStates=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=i[t];if(!n)continue;e[t]?(o.addClass(n,"piletilevi_venue_map_control_active"),n.addEventListener("click",r[t],!0)):(o.removeClass(n,"piletilevi_venue_map_control_active"),n.removeEventListener("click",r[t],!0))}},this.setVisible=function(e){t.style.display=e?"block":"none"},this.getComponentElement=function(){return t},a()},l=function(e){var t,n,i,o;this.setOtherPoint=function(n){t=n,i={top:Math.min(e.top,t.top),left:Math.min(e.left,t.left),width:Math.abs(e.left-t.left),height:Math.abs(e.top-t.top)},r()};var r=function(){for(var e in i)i.hasOwnProperty(e)&&(n[e]=i[e]+"px")};this.getRegion=function(){return i},this.getComponentElement=function(){return o},(o=document.createElement("div")).className="piletilevi_venuemap_selection_rectangle",(n=o.style).position="absolute",n.borderWidth="1px",i={top:e.top,left:e.left,width:0,height:0},r()};function c(e,t,n,i){var o;this.colorElement=!1,this.titleElement=!1,this.suffixElement=!1,this.text=!1,this.color=!1,this.init=function(){this.text=e,this.color=t,(o=document.createElement("span")).className="places_map_legend_item",n&&(o.className+=" places_map_legend_item_"+n),this.colorElement=document.createElement("span"),this.colorElement.className="places_map_legend_color",o.appendChild(this.colorElement),this.titleElement=document.createElement("span"),this.titleElement.className="places_map_legend_title",o.appendChild(this.titleElement),i&&(this.suffixElement=document.createElement("span"),this.suffixElement.className="places_map_legend_suffix",o.appendChild(this.suffixElement)),this.refreshContents()},this.refreshContents=function(){var e=this.text;this.setTextContent(this.titleElement,e),i&&this.setTextContent(this.suffixElement,i),this.colorElement.style.backgroundColor=this.color},this.setTextContent=function(e,t){for(;e.firstChild;)e.removeChild(e.firstChild);var n=document.createTextNode(t);e.appendChild(n)},this.getComponentElement=function(){return o},this.init()}var d="shop.piletilevi.ee",u="#27272e",f="#27272e",p="#d0d0d0",h="#ffffff",v="#d0d0d0",m=6,g=1,y=20,b=!1,_=0,S=1,x=2,w=3,C=(n(7),new function(){var e,t,n,i,o,r=this,a={},s={},l=function(){switch(e){case"pointer":case"mspointer":document.body.addEventListener(i,x,!0),document.body.addEventListener(o,x,!0),document.body.addEventListener(t,w,!0),document.body.addEventListener(n,C,!0)}};this.getEventsSet=function(){return e=!1,window.PointerEvent?e="pointer":window.navigator.msPointerEnabled?e="mspointer":"ontouchstart"in window?e="touch":"onmousedown"in window&&(e="mouse"),r.getEventsSet=d,e};var c,d=function(){return e},u=function(e){g("start",e)},f=function(e){0===e.button&&g("start",e)},p=function(e){g("move",e)},h=function(e){g("end",e)},v=function(e){g("cancel",e)},m=function(e){if(0===e.button){g("end",e)}},g=function(e,t){for(var n=c(t),i=[],o=0;o<a[e].length;o++)a[e][o].element===n.currentTarget&&i.push(a[e][o].callback);for(var r=0;r<i.length;r++)i[r](t,n)},y=function(e){var t={target:e.target,currentTarget:e.currentTarget,touches:e.touches};if(void 0!==e.touches[0]){var n=e.touches[0];t.clientX=n.clientX,t.clientY=n.clientY,t.pageX=n.pageX,t.pageY=n.pageY}return t},b=function(e){var t=[];for(var n in s)t.push(s[n]);return{touches:t,target:e.target,currentTarget:e.currentTarget,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}},_=function(e){return{touches:[{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}],target:e.target,currentTarget:e.currentTarget,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}},S=function(e){void 0!==e.pointerId&&(s[e.pointerId]={clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY})},x=function(e){!function(e){void 0!==e.pointerId&&void 0!==s[e.pointerId]&&delete s[e.pointerId]}(e)},w=function(e){S(e)},C=function(e){S(e)};this.addEventListener=function(e,r,s,l){if(l||(l=!1),void 0!==a[r]){for(var c=!1,d=0;d<a[r].length;d++)if(a[r][d].callback===s&&a[r][d].element===e){c=!0;break}if(!c){var f={};f.callback=s,f.element=e,a[r].push(f)}void 0!==e&&void 0!==s&&("start"===r?e.addEventListener(t,u,l):"move"===r?e.addEventListener(n,p,l):"end"===r?e.addEventListener(i,h,l):"cancel"===r&&e.addEventListener(o,v,l))}},this.removeEventListener=function(e,t,n){if(void 0!==a[t])for(var i=0;i<a[t].length;i++)a[t][i].callback===n&&a[t][i].element===e&&(a[t][i]=null,a[t].splice(i,1))},this.setTouchAction=function(t,n){"mspointer"===e?t.style.msTouchAction=n:t.style.touchAction=n},a.start=[],a.end=[],a.move=[],a.cancel=[],"mouse"===(e=r.getEventsSet())?(u=f,h=m,c=_,t="mousedown",n="mousemove",i="mouseup",o="mouseleave"):"touch"===e?(c=y,t="touchstart",n="touchmove",i="touchend",o="touchcancel"):"pointer"===e?(c=b,t="pointerdown",n="pointermove",i="pointerup",o="pointercancel"):"mspointer"===e&&(c=_,t="mspointerdown",n="mspointermove",i="mspointerup",o="mspointercancel"),window.addEventListener("load",l)});function E(e,t){var n,i,r=this;this.id=!1;var a,s,l,c=!1,d=!1,u=!1,f=!0,p=_,h=function(t){var i=Math.max(0,t.pageX),o=Math.max(0,t.pageY-2);p!==w&&e.getPlaceToolTip().display(n,p,i,o),c&&r.highlight()},v=function(){e.getPlaceToolTip().hide(),c&&r.refreshStatus(),e.removeSuggestedSeats()},y=function(t){t.preventDefault(),c&&n&&(p===S?(p=x,r.refreshStatus(),e.trigger("seatsSelected",[n.id]),e.trigger("seatSelected",n.id)):p===x&&(p=S,r.refreshStatus(),e.trigger("seatsDeselected",[n.id]),e.trigger("seatUnSelected",n.id))),e.seatClicked(i,n.id)},b=function(t){t.preventDefault(),n&&n.status===S&&e.suggestSeats(i,n)};this.refreshStatus=function(){var i,o;p===w&&d?r.renderBuffered():(f=!0,o="#ffffff",p===x?i=e.getSeatColor("active"):!a||p!==S&&d?(i=e.getSeatColor("inactive"),f=u,o="#000000"):i=a.color,s&&(s.style.display=f?"":"none"),E(i),L(o),k(!1),T(!1));n?(e.isSeatSuggestingEnabled()&&(C.addEventListener(t,"start",b),t.addEventListener("mouseenter",b)),t.addEventListener("mousemove",h),t.addEventListener("mouseleave",v)):(e.isSeatSuggestingEnabled()&&(C.removeEventListener(t,"start",b),t.removeEventListener("mouseenter",b)),t.removeEventListener("mousemove",h),t.removeEventListener("mouseleave",v)),!n||p!==S&&p!==x?C.removeEventListener(t,"end",y):C.addEventListener(t,"end",y)};var E=function(e){t&&(c?t.setAttribute("style","cursor:pointer;fill:"+e):t.setAttribute("style","fill:"+e))},k=function(e){t&&(e?t.setAttribute("stroke",e):t.removeAttribute("stroke"))},L=function(e){s&&f&&s.setAttribute("fill",e)};this.canBeSelected=function(){return c&&n&&(p===S||p===x)},this.allowManuallySelectable=function(e){c=!!e},this.allowSeatsStatusDisplaying=function(e){d=!!e},this.isSelectable=function(){return c},this.getSeatInfo=function(){return n},this.setSeatInfo=function(e){void 0!==(n=e).status&&(p=n.status),t.setAttribute("data-seat-id",n.id)},this.setSectionId=function(e){i=e},this.setPriceClass=function(e){a=e},this.setSelected=function(e){switch(p){case S:case x:p=e?x:S}},this.isSelected=function(){return p===x},this.getElement=function(){return t},this.highlight=function(){E(e.getSeatColor("hover")),k(!1),T(!1)},this.renderBuffered=function(){var t=e.getSeatColor("buffered"),n=e.getSeatColor("bufferedBorder");E(t),k(n),T(!0)};var T=function(n){if(n){var i=g,r=m-2*i,a=e.getSeatColor("bufferedBorder");l||(l=o.createSvgNode("path",{d:"M "+i+" "+i+", "+(i+r)+" "+(i+r)+" Z M "+i+" "+(i+r)+", "+(i+r)+" "+i+" Z",stroke:a})),t.appendChild(l)}else l&&l.parentNode===t&&t.removeChild(l)};s=t.querySelector("text"),u=e.areInactiveSeatsNumbered(),r.refreshStatus()}var k=function(e,t){var n=this;this.setText=function(e){if(t.String)t.String=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);var n=document.createTextNode(e);t.appendChild(n)}},this.getText=function(){return t.textContent||t.String},function(){var i=n.getText();if(i&&n.setText(e.getTranslation("stage-"+i)),e.isPlacesMapFlipped()){var o=t.getAttribute("x"),r=t.getAttribute("y");t.setAttribute("transform","rotate(180 "+o+" "+r+")")}}()};function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t,n){var i,r,a,s,l,c,d,u=this,f={},p=!1,h={width:0,height:0},v={},g=-1,y=0,b=0;this.attachTo=function(e){(a=(d=e).getMainElement()).firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),u.registerDraggableElement({draggableElement:i,gestureElement:i,boundariesElement:a,boundariesPadding:0})},this.remove=function(){u.unRegisterScalableElement(),u.disableDragging(),i.parentNode&&i.parentNode.removeChild(i)};var _=function(e){var t=a.getBoundingClientRect(),n={x:(e.startF0x+e.startF1x)/2-t.left-window.pageXOffset,y:(e.startF0y+e.startF1y)/2-t.top-window.pageYOffset};return s=u.getPointRelativeToContainer(n.x,n.y),!0},S=function(e){var t=T(e.currentWidth,e.currentHeight,s);i.style.left=t.x+"px",i.style.top=t.y+"px"},w=function(){g=C(i.offsetWidth),e.setCurrentZoomLevel(g),N()},C=function(e){var t=e/l.width;return Math.round(Math.log(t)/Math.log(1.25))};this.getMaxZoomLevel=function(){return y},this.updateSeat=function(e){if(f[e.id]){var t=f[e.id];t.setSeatInfo(e),t.refreshStatus()}},this.updateSection=function(t){if(t){n[t.id]&&u.setTextContent(n[t.id],t.title);for(var i=t.priceClasses||[],o={},r=i.length;r--;)o[i[r].id]=i[r];for(var a=e.isSeatSelectionEnabled()&&t.selectableSeats,s=t.seatsInfo||[],l=0;l<s.length;l++){var c=s[l];if(f[c.id]){var d=f[c.id];d.setSeatInfo(c),d.setSectionId(t.id);var p=o[c.priceClass]||null,h=a&&c;d.setPriceClass(p),d.setSelected(e.isSeatSelected(c.id)||c.status===x),d.allowManuallySelectable(h),d.allowSeatsStatusDisplaying(e.isSeatsStatusDisplayed()),d.refreshStatus()}}}},this.setTextContent=function(e,t){for(t=t||"";e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))},this.setSectionsBoundaries=function(e){v=e},this.resize=function(){i.style.width="",i.style.height="",a.style.width="",a.style.height="";var n,o,s=L(),f=t.style;e.getFixedHeight()?a.style.height=e.getFixedHeight()-d.getLegendHeight()+"px":(o=(n=i.offsetWidth-s.left-s.right)/r,f.width=n+"px",f.height=o+"px",i.offsetHeight>a.offsetHeight&&(n=(o=a.offsetHeight-s.top-s.bottom)*r),f.width=n+"px",f.height=o+"px");l={width:a.offsetWidth,height:a.offsetHeight},c={width:l.width-s.left-s.right,height:l.height-s.top-s.bottom},i.style.width=l.width+"px",i.style.height=l.height+"px",a.style.width=l.width+"px",a.style.height=l.height+"px",f.width="",f.height="",g=-1;var p=M();p.centered=!0,function(){var t=e.getZoomLimit()/m;b=h.width*t;var n=L();b+=n.left+n.right,y=Math.max(0,C(b))}(),u.registerScalableElement({scaledElement:i,gestureElement:i,minWidth:a.offsetWidth,minHeight:a.offsetWidth/r,maxWidth:b,afterStartCallback:_,preChangeCallback:S,endCallback:w}),e.getZoomLevel()>y?e.setZoomLevel(y,!1):(u.adjustToZoom(!1,p),d.adjustZoomControls())};var L=function(){var e=window.getComputedStyle(i);return{top:parseFloat(e.paddingTop),bottom:parseFloat(e.paddingBottom),left:parseFloat(e.paddingLeft),right:parseFloat(e.paddingRight)}};this.adjustToZoom=function(t,n){t=t||void 0===t;var r=e.getZoomLevel();if(r!==g){var a=Math.abs(g-r);a>1&&O(!1),g=r,D(!1);var s=z(l.width,r),c=z(l.height,r),d=0,u=0;if(r>0){var f=n;f||(f=M());var p=T(s,c,f);d=p.y,u=p.x}if(t){var h=Math.min(150*a,800);o.animate(i,{top:d+"px",left:u+"px",width:s+"px",height:c+"px"},h,"ease-in-out",N)}else i.style.top=d+"px",i.style.left=u+"px",i.style.width=s+"px",i.style.height=c+"px",N()}};var T=function(e,t,n){var o,r;if(n.centered){var a={x:e*n.x,y:t*n.y};o=l.height/2-a.y,r=l.width/2-a.x}else{var s=i.offsetWidth*n.x,c=e*n.x,d=i.offsetHeight*n.y,u=t*n.y;o=i.offsetTop-(u-d),r=i.offsetLeft-(c-s)}return o=Math.min(o,0),o=Math.max(o,l.height-t),o=Math.round(o),r=Math.min(r,0),r=Math.max(r,l.width-e),{x:r=Math.round(r),y:o}},M=function(){return u.getPointRelativeToContainer(l.width/2,l.height/2)},N=function(){I(),g>0?u.enableDragging():u.disableDragging()};this.setDisplayed=function(e){p!==e&&(p=e,i.style.display=p?"":"none",p&&u.resize())},this.getPointRelativeToContainer=function(e,t){return{x:(e-i.offsetLeft)/i.offsetWidth,y:(t-i.offsetTop)/i.offsetHeight}},this.getComponentElement=function(){return i},this.selectSection=function(t){if(t){var n=v[t]||null;if(n){for(var i,o,r,a,s=0,l=0;l<=32;++l){var d={width:z(c.width,l),height:z(c.height,l)},u=A({width:d.width,height:d.height}),f=u.width/h.width;if(i=f*n.width,o=f*n.height,i>c.width||o>c.height)break;if(s=l,r=d,a=u,P(u.width)>8)break}var p=null;if(s>0){var m={x:(n.x+n.width/2)/h.width,y:(n.y+n.height/2)/h.height};p={x:(a.width*m.x+(r.width-a.width)/2)/r.width,y:(a.height*m.y+(r.height-a.height)/2)/r.height,centered:!0}}e.setZoomLevel(s,!0,p)}}else e.setZoomLevel(0)},this.getSelectedSeats=function(){var e=[];for(var t in f)f[t].isSelected()&&e.push(f[t]);return e},this.selectSeatsInRegion=function(e,n){n=n||{};var o=t.getBoundingClientRect(),r=i.getBoundingClientRect(),a=o.top-r.top,s=o.left-r.left,l=e.top-i.offsetTop,c=e.left-i.offsetLeft,d=A(o),u=d.width/h.width,p=(o.height-d.height)/2,v=(o.width-d.width)/2;for(var m in p+=a,v+=s,f){var g=f[m],y=g.getSeatInfo();if(g.canBeSelected()&&!n[y.id]){var b=g.getElement(),_=b.getAttribute("cx")*u+v,S=b.getAttribute("cy")*u+p,x=_<c||_>c+e.width||S<l||S>l+e.height;g.isSelected()!==!x&&(g.setSelected(!x),g.refreshStatus())}}};var I=function(){var t=A(),i=P(t.width),o=i>=7;O(o);var r="full_venue"===e.getSectionsMapType()&&!o&&i>=2.9;if(r){var a=14/(t.width/h.width);for(var s in n)n.hasOwnProperty(s)&&n[s].setAttribute("font-size",a)}D(r)},A=function(e){var n={width:(e=e||t.getBoundingClientRect()).width,height:e.height},i={width:n.height*r,height:n.width/r};return n.width/i.width>n.height/i.height?n.width=i.width:n.height=i.height,n},P=function(e){var t=e/h.width;return Math.round(m*t)},O=function(e){e?o.addClass(t,"with_seat_numbers"):o.removeClass(t,"with_seat_numbers")},D=function(e){e?o.addClass(t,"with_section_labels"):o.removeClass(t,"with_section_labels")},z=function(e,t){return e*Math.pow(1.25,t)};this.markSuggestedSeats=function(e,t){e.map((function(n,i){i<t||i>=e.length-t?f[n.id].renderBuffered():f[n.id].highlight()}))},this.unmarkSuggestedSeats=function(e){e.map((function(e){f[e].refreshStatus()}))},function(){n=n||{},(i=document.createElement("div")).className="piletilevi_venue_map_canvas",i.style.overflow="hidden",i.style.position="relative",i.style.textAlign="center",i.style.display="none",e.isPlacesMapFlipped()&&(i.style.transform="rotate(180deg)"),t.style.verticalAlign="middle",t.style.position="relative";var o=t.getAttribute("viewBox").split(" ");h.width=+o[2],h.height=+o[3],r=h.width/h.height;for(var a,s=t.querySelectorAll(".place"),l=s.length;l--;){var c=s[l],d=c.id;0===d.indexOf("place_")&&(d=d.substring(6)),d&&(f[d]||(f[d]=new E(e,c)))}i.appendChild(t),(a=t.getElementById("stagename"))&&new k(e,a)}()}function N(e){this.createCanvas=function(i){for(var r,a=JSON.parse(JSON.stringify(i.data)),s=i.relevantSections||[],l=o.createSvgNode("svg",{viewBox:"0 0 "+a.width+" "+a.height,width:"100%",height:"100%"}),c={},d={},u=function(){this.firstSeat=null,this.lastSeat=null},f=[],p={},h=s.length;h--;)p[s[h]]=!0;for(var v=0;v<a.seats.length;++v){var g=a.seats[v],_=g.section;if(p[_]){c[_]||(c[_]=[]);var S=_+"_"+g.row;d[S]||(d[S]=new u);var x=d[S];(!x.firstSeat||+x.firstSeat.place>+g.place)&&(x.firstSeat=g),(!x.lastSeat||+x.lastSeat.place<+g.place)&&(x.lastSeat=g),c[_].push(g),f.push(g)}}var w=t(f),C=0,E=0;if(w.width/w.height>2.25)E=(w.width/2.25-w.height)/2;else if(w.width/w.height<.75){C=(.75*w.height-w.width)/2}var k=4.5*m;if((k>C||k>E)&&(C+=k,E+=k),w.x-=C,w.y-=E,w.width+=2*C,w.height+=2*E,i.withStage&&a.stageType){var L=o.getSvgTextBBox(e.getTranslation("stage-"+a.stageType),{"font-size":y,"font-weight":"bold"}),T=a.stageX-L.width/2,N=a.stageY-L.height/2;T<w.x&&(w.width+=w.x-T,w.x=T),N<w.y&&(w.height+=w.y-N,w.y=N),w.width<T+L.width&&(w.width=T+L.width),w.height<N+L.height&&(w.height=N+L.height)}l.setAttribute("viewBox","0 0 "+w.width+" "+w.height),a.stageX-=w.x,a.stageY-=w.y;for(var I=f.length;I--;){var A=f[I];A.x-=w.x,A.y-=w.y}if(i.withStage&&a.stageType){r=o.createSvgNode("text",{id:"stagename","text-anchor":"middle",x:a.stageX,y:a.stageY,fill:"#999999","font-size":y,"font-weight":"bold",dy:"0.3em"});var P=document.createTextNode(a.stageType);r.appendChild(P),l.appendChild(r)}for(var O in d){var D=d[O];D.firstSeat&&D.lastSeat&&(l.appendChild(n(D.firstSeat,D.lastSeat)),l.appendChild(n(D.lastSeat,D.firstSeat)))}for(var z=m/2,X=0;X<f.length;++X){var Y=f[X],j=o.createSvgNode("g",{class:"place",id:"place_"+Y.code,transform:"translate("+Y.x+","+Y.y+")"});l.appendChild(j);var B=o.createSvgNode("circle",{cx:z,cy:z,r:m});if(j.appendChild(B),Y.place){var H={class:"place_detail seat_text",x:z,y:z,dy:"0.35em","stroke-width":0,"text-anchor":"middle","font-size":6.9};e.isPlacesMapFlipped()&&(H.transform="rotate(180 "+z+" "+z+")"),B=o.createSvgNode("text",H);var F=document.createTextNode(Y.place);B.appendChild(F),j.appendChild(B)}}var Z={},W={};for(var R in c){var U=t(c[R]);if(b){var q=o.createSvgNode("rect",{x:U.x,y:U.y,width:U.width,height:U.height,fill:"#7f52ff","data-section":R});l.appendChild(q)}var J=o.createSvgNode("text",{class:"section_label",x:U.x+U.width/2,y:U.y+U.height/2,dy:"-0.35em","text-anchor":"middle","font-size":14,fill:"#000000"});W[R]=J,l.appendChild(J),Z[R]=U}e.displayMapInPlaces=1===a.displayMapInPlaces;var V=new M(e,l,W);return V.setSectionsBoundaries(Z),V};var t=function(e){for(var t={x:-1,y:-1},n={x:-1,y:-1},i=0;i<e.length;++i){var o=e[i],r=+o.x,a=+o.y;(t.x<0||r<t.x)&&(t.x=r),(t.y<0||a<t.y)&&(t.y=a),(n.x<0||r>n.x)&&(n.x=r),(n.y<0||a>n.y)&&(n.y=a)}var s=m;return{x:t.x-s,y:t.y-s,width:n.x-t.x+2*s,height:n.y-t.y+2*s}},n=function(t,n){var i=t.x<=n.x,r=t.x;i?r-=2*m:r+=2*m;var a=function(e,t,n,i){return 180*Math.atan2(i-t,n-e)/Math.PI},s="rotate("+Math.round(i?a(t.x,t.y,n.x,n.y):a(n.x,n.y,t.x,t.y))+","+t.x+","+t.y+")",l=e.isPlacesMapFlipped();l&&(s+=", rotate(180 "+r+" "+t.y+")");var c=i&&!l||!i&&l?"end":"start",d=o.createSvgNode("text",{class:"place_detail",x:r,y:t.y,dy:"0.35em",transform:s,"stroke-width":0,"text-anchor":c,"font-size":10,fill:"#999999"}),u=document.createTextNode(t.row);return d.appendChild(u),d}}function I(e){var t,n,i,r,a,d,u,f,p=this,h=!1,v={},m=0,g={},y=function(){(i=document.createElement("div")).className="piletilevi_venue_map_places",i.style.display="none",(n=document.createElement("div")).className="places_map_legend",i.appendChild(n),(t=document.createElement("div")).className="places_map_sections_thumbnail",i.appendChild(t);var a=document.createElement("div");a.className="places_map_sections_thumbnail_overflow",t.appendChild(a),(r=document.createElement("div")).className="piletilevi_venue_map_places_main",r.style.position="relative",r.style.overflow="hidden",(f=document.createElement("div")).style.position="absolute",f.style.left="0",f.style.right="0",f.style.top="0",f.style.bottom="0",f.style.display="none",r.appendChild(f),i.appendChild(r),e.getWithControls()&&(d=new s(e),r.appendChild(d.getComponentElement()),o.addClass(i,"piletilevi_venue_map_places_with_controls"))};this.getSectionsThumbnailElement=function(){return t};var b=function e(t){17===t.code&&a&&(m=1,d&&d.setVisible(!1),a.disableDragging(),r.style.cursor="crosshair",f.style.display="block",r.addEventListener("mousedown",S),document.removeEventListener("keydown",e),document.addEventListener("keyup",_))},_=function(e){17===e.code&&E()},S=function e(t){r.removeEventListener("mousedown",e),C(L(t))},x=function(e){u.setOtherPoint(L(e));var t=u.getRegion();a.selectSeatsInRegion(t,g)},w=function(){E()},C=function(e){m=2;var t=a.getSelectedSeats();g={};for(var n=t.length;n--;){var i=t[n].getSeatInfo();i&&(g[i.id]=!0)}u=new l(e),r.appendChild(u.getComponentElement()),r.addEventListener("mousemove",x),r.addEventListener("mouseup",w)},E=function(){if(e.getZoomLevel()>0&&a.enableDragging(),document.removeEventListener("keyup",_),r.removeEventListener("mousedown",S),r.removeEventListener("mouseup",w),r.removeEventListener("mousemove",x),u&&(r.removeChild(u.getComponentElement()),u=null),2===m){for(var t=[],n=a.getSelectedSeats(),i=n.length;i--;){var o=n[i].getSeatInfo();o&&!g[o.id]&&t.push(o.id)}t.length>0&&e.trigger("seatsSelected",t)}m=0,document.addEventListener("keydown",b),window.setTimeout(k,100)},k=function(){0===m&&(r.style.cursor="",f.style.display="none",d&&d.setVisible(!0))},L=function(e){var t=o.getPosition(r);return{top:Math.max(0,e.pageY-t.y),left:Math.max(0,e.pageX-t.x)}},T=function(t){if(t.preventDefault&&t.preventDefault(),t.returnValue=!1,0===m&&0!==t.deltaY){var n=t,i=r.getBoundingClientRect(),o=n.pageX-i.left-window.pageXOffset,s=n.pageY-i.top-window.pageYOffset,l=a.getPointRelativeToContainer(o,s),c=t.deltaY<0,d=e.getZoomLevel();c?++d:--d;var u=a?a.getMaxZoomLevel():0;d>=0&&d<=u&&e.setZoomLevel(d,!0,l)}};this.adjustZoomControls=function(){if(d){var t=a?a.getMaxZoomLevel():0,n=e.getZoomLevel(),i={zoomin:n<t,zoomout:n>0,resetzoom:n>0};d.changeStates(i)}},this.drawNewMap=function(t){a&&a.remove();var n=new N(e);for(var i in(a=n.createCanvas(t)).attachTo(p),v)a.updateSection(v[i]);[],a.setDisplayed(h)},this.updateSectionsList=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){v[n]=e[n],M(e[n]);var i=e[n].priceClasses||[];t=t.concat(i)}for(var o={},r=0;r<t.length;){var a=t[r];o[a.id]?t.splice(r,1):(o[a.id]=!0,++r)}I(t)},this.updateSection=function(t){if(e.displayMapInPlaces&&i.classList.add("piletilevi_venue_map_places_with_map"),t){v[t.id]=t;var n=t.priceClasses||[];I(n),M(t)}},this.adjustToZoom=function(e,t){a&&a.adjustToZoom(e,t)},this.resize=function(){h&&a&&a&&a.resize()},this.getLegendHeight=function(){var e=window.getComputedStyle(n),t=parseFloat(e.marginTop)+parseFloat(e.marginBottom);return n.offsetHeight+t},this.setDisplayed=function(e){h!==e&&(h=e,a&&a.setDisplayed(!0),i.style.display=h?"":"none")},this.getComponentElement=function(){return i},this.selectSection=function(e){a&&a.selectSection(e)};var M=function(e){a&&a.updateSection(e)};this.updateSeat=function(e){a&&a.updateSeat(e)};var I=function(t){for(var i;n.firstChild;)n.removeChild(n.firstChild);var o=e.getLegendType(),r="price"===o||"title"===o;if(n.style.display=r?"block":"none",r){i=new c(e.getTranslation("booked"),e.getSeatColor("inactive"),"booked"),n.appendChild(i.getComponentElement());var a="price"===o?function(e,t){return parseFloat(e.price)-parseFloat(t.price)}:function(e,t){return e.title.localeCompare(t.title)};t.sort(a);for(var s=0;s<t.length;s++)t[s][o]&&(i=new c(t[s][o],t[s].color,"",e.getCurrency()),n.appendChild(i.getComponentElement()))}};this.getMainElement=function(){return r},this.markSuggestedSeats=function(e,t){a.markSuggestedSeats(e,t)},this.unmarkSuggestedSeats=function(e){a.unmarkSuggestedSeats(e)},y(),r.addEventListener("wheel",T),e.isMassSelectable()&&document.addEventListener("keydown",b)}function A(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function O(){var e,t;this.suggestNewSeats=function(r,a,s,l){var c=[];if(void 0===s.seatsInfo)return!1;var d,u=[],f=A(a);try{for(f.s();!(d=f.n()).done;){var p,h=d.value,v=A(s.seatsInfo);try{for(v.s();!(p=v.n()).done;){var m=p.value;m.id===h&&m.status===x&&u.push(h)}}catch(e){v.e(e)}finally{v.f()}}}catch(e){f.e(e)}finally{f.f()}if(!u.length)return!1;var g=o(s.seatsInfo,r);if(!g)return!1;var y=n(e,g,u.length,l);if(!1!==t)c=y;else{var b=i(e,g,u.length,l);!1!==t?c=b:(e+=Math.floor((u.length+2*l)/2),e=Math.min(e,g.length-1),e=Math.max(e,0),c=n(e,g,u.length,l))}var _=[];return c.map((function(e){_.push(g[e])})),_};var n=function(e,n,i,o){var r=i+2*o;t=!1;for(var a=[],s=Math.max(e-r+1,0);s<e+r;s++){void 0===n[s-1]?t=s:s-1<o&&n[s-1].status===w?t=s-1:n[s-1].status!==S&&(t=s);var l=r,c=s;do{var d=!0;if(void 0!==n[c]&&(n[c].status===S&&(d=!1),n[c].status===w&&(a.length<o||a.length>=r-o)&&(d=!1)),d){a=[],t=!1;break}a.push(c),c++}while(--l);if(a.length===r)return a}return a},i=function(e,n,i,o){var r=i+2*o;t=!1;for(var a=[],s=Math.min(e+r-1,n.length-1);s>=e-r;s--){void 0===n[s+1]?t=s:s+1>=o+i&&n[s+1].status===w?t=s+1:n[s+1].status!==S&&(t=s);var l=r,c=s;do{var d=!0;if(void 0!==n[c]&&(n[c].status===S&&(d=!1),n[c].status===w&&(a.length<o||a.length>=r-o)&&(d=!1)),d){a=[],t=!1;break}a.push(c),c--}while(--l);if(a.length===r)return a}return a},o=function(t,n){for(var i=[],o=0;o<t.length;o++){var r=t[o];r.row===n.row&&(r===n&&(e=i.length),i.push(r))}return i}}function D(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(){var e,t,n,i,o,r,a,s,l,c,d,u,f,p,h,v,m,g,y,b,_,S,x,w,E,k=1,T=1;this.registerScalableElement=function(u){"object"==L(u)&&(void 0!==u.scaledElement&&(e=u.scaledElement),t=void 0!==u.gestureElement?u.gestureElement:e,void 0!==u.scaledElement&&(e=u.scaledElement),"function"==typeof u.beforeStartCallback&&(n=u.beforeStartCallback),"function"==typeof u.afterStartCallback&&(i=u.afterStartCallback),"function"==typeof u.afterChangeCallback&&(o=u.afterChangeCallback),"function"==typeof u.preChangeCallback&&(r=u.preChangeCallback),"function"==typeof u.endCallback&&(a=u.endCallback),k=void 0!==u.speedX?parseFloat(u.speedX,10):1,T=void 0!==u.speedY?parseFloat(u.speedY,10):1,void 0!==u.minWidth&&(s=parseInt(u.minWidth,10)),void 0!==u.minHeight&&(l=parseInt(u.minHeight,10)),void 0!==u.maxWidth&&(c=parseInt(u.maxWidth,10)),void 0!==u.maxHeight&&(d=parseInt(u.maxHeight,10)),M())},this.unRegisterScalableElement=function(){N()};var M=function(){N(),"Firefox"!==window.userAgent&&C.setTouchAction(t,"none"),C.addEventListener(t,"start",I,!0)},N=function(){C.removeEventListener(t,"start",I),C.removeEventListener(t,"move",A),C.removeEventListener(t,"cancel",P),C.removeEventListener(t,"end",P)},I=function(o,r){if(void 0!==r.touches&&r.touches.length>1){if(o.preventDefault(),u=1,"SVG"===e.tagName.toUpperCase()){var a=e.getBoundingClientRect();f=a.width,p=a.height}else f=e.offsetWidth,p=e.offsetHeight;m=r.touches[0].pageX,g=r.touches[0].pageY,y=r.touches[1].pageX,b=r.touches[1].pageY,_=Math.pow(Math.pow(y-m,2)+Math.pow(b-g,2),.5),(void 0===n||n(O()))&&(C.addEventListener(t,"move",A,!0),C.addEventListener(t,"end",P,!0),C.addEventListener(t,"cancel",P,!0),i&&i(O()))}},A=function(t,n){if(void 0!==n.touches&&n.touches.length>1){t.preventDefault(),S=n.touches[0].pageX,x=n.touches[0].pageY,w=n.touches[1].pageX,E=n.touches[1].pageY;var i=Math.pow(Math.pow(w-S,2)+Math.pow(E-x,2),.5);if(1!==(u=i/_)){var a=1-u;(h=f-f*a*k)>c&&(h=c),h<s&&(h=s),(v=p-p*a*T)>d&&(v=d),v<l&&(v=l),r&&r(O()),e.style.width=h+"px",e.style.height=v+"px",o&&o(O())}}},P=function e(n,i){n.preventDefault(),n.stopPropagation(),void 0!==i.touches&&0===i.touches.length&&(C.removeEventListener(t,"move",A),C.removeEventListener(t,"end",e),C.removeEventListener(t,"cancel",e),a&&a(O()))},O=function(){return{speedX:k,speedY:T,minWidth:s,minHeight:l,maxWidth:c,maxHeight:d,scale:u,startWidth:f,startHeight:p,currentWidth:h,currentHeight:v,startF0x:m,startF0y:g,startF1x:y,startF1y:b,startDistance:_,f0x:S,f0y:x,f1x:w,f1y:E}}}).call(M.prototype),function(){var e,t,n,i,o,r,a,s,l,c,d,u,f,p,h,v,m,g;this.registerDraggableElement=function(r){"object"==T(r)&&(void 0!==r.draggableElement&&(e=r.draggableElement),void 0!==r.parentElement?t=r.parentElement:e&&(t=e.parentNode),void 0!==r.gestureElement?n=r.gestureElement:e&&(n=e),void 0!==r.boundariesElement&&(i=r.boundariesElement),o=void 0!==r.boundariesPadding?parseFloat(r.boundariesPadding):0,"function"==typeof r.beforeStartCallback&&(p=r.beforeStartCallback),"function"==typeof r.startCallback&&(h=r.startCallback),"function"==typeof r.beforeMoveCallback&&(v=r.beforeMoveCallback),"function"==typeof r.afterMoveCallback&&(m=r.afterMoveCallback),"function"==typeof r.endCallback&&(g=r.endCallback),y())},this.disableDragging=function(){e&&b()},this.enableDragging=function(){e&&y()};var y=function(){b(),e.setAttribute("data-draggable-state","draggable"),C.addEventListener(n,"start",_,!0)},b=function(){e.removeAttribute("data-draggable-state"),C.removeEventListener(n,"start",_),C.removeEventListener(n,"move",S),C.removeEventListener(n,"cancel",x),C.removeEventListener(n,"end",x)},_=function(t,i){void 0!==i.touches&&1===i.touches.length&&(e.setAttribute("data-draggable-state","dragging"),r=e.offsetLeft,a=e.offsetTop,c=i.touches[0].pageX,d=i.touches[0].pageY,u=c,f=d,(void 0===p||p(w()))&&(C.addEventListener(n,"move",S,!0),C.addEventListener(n,"end",x,!0),C.addEventListener(n,"cancel",x,!0),h&&h(w())))},S=function(t,n){if(void 0!==n.touches&&1===n.touches.length){var p,h,g,y;if(t.preventDefault(),u=n.touches[0].pageX,f=n.touches[0].pageY,s=r+u-c,l=a+f-d,i)s>(p=i.offsetWidth*o)?s=p:s<(h=i.offsetWidth*(1-o)-e.offsetWidth)&&(s=h),l>(g=i.offsetHeight*o)&&(l=g),l<(y=i.offsetHeight*(1-o)-e.offsetHeight)&&(l=y);(void 0===v||v(w()))&&(e.style.left=s+"px",e.style.top=l+"px",m&&m(w()))}},x=function t(i){(Math.abs(c-u)>2||Math.abs(d-f)>2)&&i.stopPropagation(),i.preventDefault(),e.setAttribute("data-draggable-state","draggable"),C.removeEventListener(n,"move",S),C.removeEventListener(n,"end",t),C.removeEventListener(n,"cancel",t),g&&g(w())},w=function(){return{draggableElement:e,parentElement:t,gestureElement:n,startElementX:r,startElementY:a,currentElementX:s,currentElementY:l,startTouchX:c,startTouchY:d,currentTouchX:u,currentTouchY:f}}}.call(M.prototype);function Y(){}Y.venuemap={},Y.venuemap.VenueMap=function(){var e,t,n,r,s,l,c,m,g=this,y=d,b=!1,_="",S=!1,w=!1,C=!1,E="vector",k="",L="",T=[],M=[],N={},A={},P={},z=0,Y=[],j=!1,B=!0,H=!1,F=0,Z=!1,W=0,R=!1,U=!1,q={},J={},V=!1,G=!1,$=!1,K="price",Q="",ee=!1,te={},ne=16,ie={},oe=!1,re=0,ae={},se=0;this.displayMapInPlaces=!1;var le={hover:u,active:f,inactive:p,buffered:h,bufferedBorder:v},ce=function(e,n){he(),(r||"full_venue"===E)&&t.adjustToZoom(e,n)};this.build=function(){"full_venue"!==E&&(e=new a(g),s.appendChild(e.getComponentElement())),t=new I(g),s.appendChild(t.getComponentElement()),l=new i(g),j=!0,Q?de():g.update()};var de=function(){ee=!0,g.requestShopData("/public/seatingPlanOverrides",(function(e){te=null;try{te=JSON.parse(e)}catch(e){return void console.error("Failed parsing config overrides response")}"object"==X(te)?(ee=!1,g.update()):console.error("Received invalid config overrides response")}),(function(){console.error("Failed loading config overrides")}))},ue=function(e,t){W!==_?(W=_,g.requestShopData("/public/upload/seatingplan_json/"+_+".json",(function(t){fe(t),R=!0,g.trigger("placesMapLoadSuccess"),e()}),(function(){t(),R=!1,g.trigger("placesMapLoadFailure")}),!1)):R?e():t()},fe=function(e){m=JSON.parse(e),ie={};for(var t=0;t<m.seats.length;++t){var n=m.seats[t];ie[n.section]=!0}},pe=function(t){var n=t,i=new DOMParser;try{var o=i.parseFromString(n,"image/svg+xml");if(o&&o.getElementsByTagName("parsererror").length>0&&(o=null),o){for(var r=o.getElementsByTagName("image"),a=(b?"https":"http")+"://"+y,s=r.length;s--;)r[s].setAttribute("xlink:href",a+r[s].getAttribute("xlink:href"));e.mapElement=document.adoptNode(o.documentElement),e.mapElement.style.verticalAlign="top",e.checkMapElement()}}catch(e){}},he=function(){t.adjustZoomControls()};this.updateSeat=function(e){e.status!==x&&g.unSetCustomerSeats([e.id]);for(var n=q[e.id],i=ve(n),o=i.seatsInfo.length;o--;)i.seatsInfo[o].id===e.id&&(i.seatsInfo[o]=e);t&&t.updateSeat(e)},this.update=function(){var i,o,a,l;if(!ee)if(j)if(Q&&te[Q]&&(_=te[Q]),"full_venue"!==E){var c=e.getMapRegions();if(r){if(g.displayMapInPlaces){if(e.display(),a=t.getSectionsThumbnailElement(),l=e.getComponentElement(),a.insertBefore(l,a.firstChild),void 0!==c[r])for(var d in c[r].markActivePermanently(),c)d!==r&&c[d].markInactivePermanently()}else e.hide();t.setDisplayed(!0);var u=ve(r);if(t.updateSection(u),r===n)return;n=r,g.hide(),g.setCurrentZoomLevel(0),ue((function(){ie[r]?(t.setDisplayed(!0),g.display(),t.drawNewMap({data:m,relevantSections:[r]})):g.hide()}),(function(){g.hide()}))}else{if(g.displayMapInPlaces)for(var f in function(){var t=e.getComponentElement();s.appendChild(t)}(),c)c[f].unLockActive(),c[f].refreshStatus();g.setCurrentZoomLevel(0),n=0,t.setDisplayed(!1),e.update(),e.display(),i=function(){g.display()},o=function(){g.hide()},F!==_?(F=_,"image"===E?(e.createImageElement(L),i()):g.requestShopData("/public/upload/seatingplan_svg/"+_+".svg",(function(e){i(),Z=!0,pe(e)}),(function(){o(),Z=!1,g.trigger("sectionsMapLoadFailure")}))):Z?i():o()}}else{if(t.updateSectionsList(P),oe)return;ue((function(){t.setDisplayed(!0),g.display(),t.drawNewMap({data:m,relevantSections:M,withStage:!0}),oe=!0}),(function(){g.hide()}))}else g.build()},this.display=function(){B||(s.style.display="",B=!0,g.resize(),g.trigger("visibilityChange",B))},this.hide=function(){B&&(s.style.display="none",B=!1,g.trigger("visibilityChange",B))},this.setOffsetPlaces=function(e){se=e},this.setConfId=function(e){_=e},this.setConcertId=function(e){Q=e},this.getConfId=function(){return _},this.getZoomLimit=function(){return ne},this.setZoomLimit=function(e){ne=e},this.getSectionsMap=function(){return e},this.setSectionsMapType=function(e){E=e},this.getSectionsMapType=function(){return E},this.setSectionsMapImageUrl=function(e){L=e},this.getSectionsMapImageUrl=function(){return L},this.setSections=function(e){T=e},this.getSections=function(){return T},this.setEnabledSections=function(e){M=e},this.getEnabledSections=function(){return M},this.setSeatSelectionEnabled=function(e){S=e},this.setSeatSuggestingEnabled=function(e){C=e},this.isSeatSuggestingEnabled=function(){return C},this.isSeatSelectionEnabled=function(){return S},this.enableSeatsStatusDisplaying=function(e){w=e},this.isSeatsStatusDisplayed=function(){return w},this.addSectionDetails=function(e){P[e.id]=e;for(var t=e.seatsInfo.length;t--;){var n=e.seatsInfo[t];q[n.id]=e.id}};var ve=function(e){return P[e]||null};this.setCustomerSeats=function(e){for(var t=e.length;t--;)N[e[t]]=!0},this.unSetCustomerSeats=function(e){for(var t=e.length;t--;)delete N[e[t]];g.removeSuggestedSeats()},this.removeSuggestedSeats=function(){if(ae){var e=Object.keys(ae);t.unmarkSuggestedSeats(Object.values(e)),ae=!1}},this.unSetCustomerSeat=function(e){delete N[e]},this.setSeatColors=function(e){le.hover=e.hover||u,le.active=e.active||f,le.inactive=e.inactive||p,le.buffered=e.buffered||h,le.bufferedBorder=e.bufferedBorder||v},this.getSeatColor=function(e){return le[e]},this.isSeatSelected=function(e){return N[e]||!1},this.getSectionBySeatId=function(e){var t=q[e]||null;return t?P[t]:null},this.addHandler=function(e,t){void 0===A[e]&&(A[e]=[]),A[e].push(t)},this.trigger=function(e,t){for(var n in A)if(n===e){for(var i=A[n].length;i--;){(0,A[n][i])(t)}break}},this.setSelectedSection=function(e){r=e,t&&"full_venue"===E&&t.selectSection(e)},this.setShopDomain=function(e){y=e},this.setConnectionSecure=function(e){b=e},this.isConnectionSecure=function(){return b},this.getShopDomain=function(){return y},this.getSelectedSection=function(){return r},this.getComponentElement=function(){return s},this.zoomIn=function(){++z,ce()},this.zoomOut=function(){--z>=0||(z=0),ce()},this.setZoomLevel=function(e,t,n){z=e,ce(t,n)},this.setCurrentZoomLevel=function(e){z=e,he()},this.resize=function(){var e=s.cloneNode(!1);e.style.visibility="hidden",e.style.display="block",s.parentNode.appendChild(e),re=e.offsetHeight,s.parentNode.removeChild(e),t&&t.resize()},this.getFixedHeight=function(){return re},this.getZoomLevel=function(){return z},this.addTranslation=function(e,t){Y[e]=t},this.getTranslation=function(e){return Y[e]?Y[e]:e},this.getPlaceToolTip=function(){return l},this.requestShopData=function(e,t,n,i){if(void 0===J[e]){var r=b?"https":"http",a=y;e.indexOf("seatingPlanOverrides")>=0&&(a=d),a===d&&(r="https");var s=r+"://"+a+e;if(i)s+="?"+(new Date).getTime();o.sendXhr({url:s,onSuccess:function(n){J[e]=n,t(n)},onFailure:function(){J[e]=!1,n()}})}else!1===J[e]?n():t(J[e])},this.areInactiveSeatsNumbered=function(){return H},this.setInactiveSeatsNumbered=function(e){H=!!e},this.getWithControls=function(){return U},this.setWithControls=function(e){U=!!e},this.getExtensionHandler=function(){return c},this.setExtensionHandler=function(e){c=e},this.getLegendType=function(){return K},this.setLegendType=function(e){K=e},this.isMassSelectable=function(){return G},this.setMassSelectable=function(e){G=!!e},this.isPlacesMapFlipped=function(){return $},this.setPlacesMapFlipped=function(e){$=e&&o.isTransformSupported()},this.setCurrency=function(e){k=e},this.getCurrency=function(){return k},this.extend=function(){if(c){V=!V,c();V?o.addClass(s,"piletilevi_venue_map_extended"):o.removeClass(s,"piletilevi_venue_map_extended")}},this.dispose=function(){s&&s.parentNode&&s.parentNode.removeChild(s),s=null,l&&l.dispose()},this.suggestSeats=function(e,n){if(C){var i=Object.keys(N).map((function(e){return parseInt(e,10)}));if(i.length>0){var o=new O,r=ve(e),a=o.suggestNewSeats(n,i,r,se),s=ae;if(ae={},a){var l,c=D(a);try{for(c.s();!(l=c.n()).done;){var d=l.value;ae[d.id]=d.id,void 0!==s[d.id]&&delete s[d.id]}}catch(e){c.e(e)}finally{c.f()}t.markSuggestedSeats(a,se)}s&&t.unmarkSuggestedSeats(Object.values(s))}}},this.seatClicked=function(e,t){if(C){var n=Object.keys(N).map((function(e){return parseInt(e,10)}));if(ae&&n.length>0){var i=Object.keys(ae).map((function(e){return parseInt(e,10)})).filter((function(e,t,n){return t>=se&&t<n.length-se}));i.length&&g.trigger("moveOfferedSeats",i)}}},(s=document.createElement("div")).className="piletilevi_venue_map",s.style.display="none",s.style["-moz-user-select"]="none",s.style["-ms-user-select"]="none",s.style["-webkit-user-select"]="none",s.style.userSelect="none",g.hide(),window.addEventListener("resize",g.resize)},window.piletilevi=Y}]);